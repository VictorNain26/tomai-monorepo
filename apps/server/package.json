{
  "name": "tomai-server",
  "version": "2.0.0",
  "type": "module",
  "main": "./src/index.ts",
  "types": "./src/app.ts",
  "exports": {
    ".": {
      "types": "./src/app.ts",
      "import": "./src/index.ts"
    },
    "./app": {
      "types": "./src/app.ts"
    }
  },
  "scripts": {
    "dev": "bun --watch --hot src/index.ts",
    "dev:memory": "bun --watch --hot --smol src/index.ts",
    "start:prod": "bun --smol dist/index.js",
    "build": "bun build src/index.ts --outdir dist --target bun --minify --splitting --format esm",
    "build:validated": "bun run validate:prod && bun run build",
    "build:koyeb": "bun run typecheck:strict && bun run lint:ci && bun build src/index.ts --outdir dist --target bun --minify --splitting --format esm",
    "start": "bun dist/index.js",
    "typecheck": "bun --bun tsc --noEmit",
    "typecheck:strict": "bun --bun tsc --noEmit",
    "lint": "bun --bun eslint src --ext .ts",
    "lint:fix": "bun --bun eslint src --ext .ts --fix",
    "lint:ci": "bun --bun eslint src --ext .ts --max-warnings 0",
    "test": "bun test src/tests/",
    "test:watch": "bun test src/tests/ --watch",
    "test:coverage": "bun test src/tests/ --coverage",
    "validate": "bun run typecheck:strict && bun run lint",
    "validate:ci": "bun run typecheck:strict && bun run lint:ci",
    "validate:prod": "bun run typecheck:strict && bun run lint:ci",
    "clean": "rm -rf dist bun.lockb node_modules/.cache",
    "db:generate": "bun --bun drizzle-kit generate --config=drizzle.config.ts",
    "db:push": "bun --bun drizzle-kit push --config=drizzle.config.ts --force",
    "db:studio": "bunx drizzle-kit studio",
    "db:check": "bun --bun drizzle-kit check",
    "db:pull": "bun --bun drizzle-kit pull --config=drizzle.config.ts",
    "db:health": "bun -e \"import('./src/db/connection.js').then(m => m.healthCheck()).then(console.log)\"",
    "docker:up": "docker compose up -d",
    "docker:down": "docker compose down",
    "docker:logs": "docker compose logs -f backend",
    "docker:dev": "docker compose up -d postgres redis && bun run dev",
    "docker:studio": "docker compose --profile tools up drizzle-studio",
    "docker:build": "docker build -t tomai-backend:latest .",
    "docker:clean": "docker compose down -v && docker system prune -af",
    "docker:restart": "docker compose down && docker compose up -d",
    "rag:cache:invalidate": "bun run src/scripts/invalidate-cache.ts",
    "redis:diagnose": "bun run src/scripts/diagnose-upstash.ts",
    "redis:test": "bun run src/scripts/diagnose-upstash.ts"
  },
  "dependencies": {
    "@elysiajs/cors": "^1.3.3",
    "@elysiajs/swagger": "^1.3.1",
    "@sinclair/typebox": "^0.34.0",
    "@google/genai": "^1.20.0",
    "@mistralai/mistralai": "^1.11.0",
    "@qdrant/js-client-rest": "^1.16.2",
    "@repo/shared-types": "workspace:*",
    "@tanstack/ai": "0.2.0",
    "@tanstack/ai-gemini": "0.2.0",
    "@upstash/redis": "^1.34.0",
    "better-auth": "1.4.7",
    "dotenv": "^17.2.2",
    "drizzle-orm": "^0.45.1",
    "elysia": "^1.4.19",
    "glob": "^11.0.3",
    "ioredis": "^5.4.1",
    "mammoth": "^1.11.0",
    "p-limit": "^7.1.1",
    "pgvector": "^0.2.1",
    "postgres": "^3.4.7",
    "stripe": "^20.0.0",
    "ts-fsrs": "^5.2.3",
    "unpdf": "^1.4.0",
    "zod": "^4.1.13"
  },
  "devDependencies": {
    "drizzle-kit": "^0.31.8",
    "@eslint/js": "^9.39.2",
    "@typescript-eslint/eslint-plugin": "^8.50.0",
    "@typescript-eslint/parser": "^8.50.0",
    "bun-types": "^1.3.5",
    "eslint": "^9.39.2",
    "globals": "^16.5.0",
    "typescript": "5.9.3"
  },
  "trustedDependencies": [
    "better-auth",
    "@better-auth/cli",
    "drizzle-kit"
  ]
}
